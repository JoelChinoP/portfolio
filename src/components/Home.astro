---
import Section from "./ui/Section.astro";
import Github from "lucide-static/icons/github.svg";
import Linkedin from "lucide-static/icons/linkedin.svg";
import Mail from "lucide-static/icons/mail.svg";
import ArrowDown from "lucide-static/icons/circle-arrow-down.svg";
import CodeIlustration from "@/assets/coding-ilu.svg";

const socialLinks = [
  {
    url: "https://github.com/JoelChinoP",
    icon: Github,
    label: "GitHub",
  },
  {
    url: "https://www.linkedin.com/in/joel-antonio-chino-pari-6184a22b4",
    icon: Linkedin,
    label: "LinkedIn",
  },
  {
    url: "mailto:joel15acp@gmail.com",
    icon: Mail,
    label: "Correo",
  },
];
---

<Section id="home">
  <div
    class="relative z-10 flex flex-col md:flex-row items-center justify-between w-full max-w-6xl mx-auto px-4 py-12 gap-12"
  >
    <div class="flex-1 flex flex-col items-start gap-3">
      <div
        class="flex w-fit items-center rounded-full gap-3 py-1.5 pl-3 pr-4 border border-cyan-400/70 bg-gradient-to-r from-blue-900/60 via-slate-900/60 to-cyan-900/60 shadow-lg enter-animation animate-fade-in-up"
      >
        <div class="relative size-4">
          <div
            class="absolute size-full animate-ping rounded-full bg-green-300 opacity-65"
          >
          </div>
          <div
            class="size-full rounded-full bg-green-400 drop-shadow-[0_0_4px_rgba(34,197,94,0.75)]"
          >
          </div>
        </div>
        <h3
          class="text-md text-cyan-100 max-xs:text-xs font-medium tracking-wide"
        >
          Disponible para proyectos
        </h3>
      </div>

      <h1
        class="text-4xl sm:text-5xl md:text-6xl font-extrabold leading-tight mb-4 bg-gradient-to-r from-cyan-400 via-blue-400 to-cyan-300 bg-clip-text text-transparent animate-fade-in-up drop-shadow-[0_2px_16px_rgba(0,212,255,0.25)]"
      >
        ¡Hola! Soy <span class="text-cyan-400 drop-shadow-lg">Joel</span>
      </h1>
      <h2
        class="text-xl sm:text-2xl md:text-3xl font-semibold mb-3 text-cyan-100 animate-fade-in-up delay-150"
      >
        <span id="text-animate" class="text-blue-300"></span>
      </h2>
      <p
        class="text-base sm:text-lg md:text-xl text-slate-200 mb-8 max-w-xl animate-fade-in-up delay-300"
      >
        Apasionado por el desarrollo backend, disfruto crear soluciones limpias,
        eficientes y enfrentar retos tecnológicos. ¡Bienvenido a mi portafolio!
      </p>
      <div class="flex gap-4 animate-fade-in-up delay-500 flex-wrap">
        {
          socialLinks.map((link) => (
            <a
              href={link.url}
              target="_blank"
              rel="noopener noreferrer"
              aria-label={link.label}
              class="group flex justify-center items-center w-12 h-12 bg-gradient-to-r from-blue-800 via-cyan-800 to-blue-900 border border-blue-400/70 text-cyan-100 rounded-full shadow-xl transition-all duration-300 hover:from-transparent hover:via-transparent hover:to-transparent hover:bg-cyan-500/10 hover:scale-112 focus:outline-none focus:ring-2 focus:ring-cyan-400 hover:backdrop-blur-lg hover:text-cyan-300 "
            >
              <div class="w-6 h-6">
                <link.icon class="w-full h-full transition-all duration-300 group-hover:scale-105 group-hover:drop-shadow-[0_0_8px_rgba(59,130,246,0.7)]" />
              </div>
            </a>
          ))
        }
        <a
          href="#bento"
          class="group flex items-center gap-2 px-5 py-2 rounded-full bg-gradient-to-r from-blue-700 via-cyan-700 to-blue-800 border border-blue-400/70 text-cyan-100 font-semibold shadow-xl transition-all duration-300 hover:from-transparent hover:via-transparent hover:to-transparent hover:bg-cyan-500/10 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-cyan-400 hover:backdrop-blur-lg hover:text-cyan-300"
        >
          <span>Ver más</span>
          <ArrowDown
            class="w-5 h-5 transition-transform duration-300 group-hover:translate-y-1 group-hover:scale-110 group-hover:drop-shadow-[0_2px_8px_rgba(59,130,246,0.7)]"
          />
        </a>
      </div>
    </div>

    <div
      class="flex-1 flex justify-center items-center relative animate-fade-in-up delay-700"
    >
      <div
        class="relative w-64 h-64 sm:w-96 sm:h-96 rounded-full bg-gradient-to-tr from-cyan-400/20 via-blue-400/10 to-cyan-300/20 shadow-2xl flex items-center justify-center overflow-hidden border-4 border-cyan-400/40"
      >
        <img
          src={CodeIlustration.src}
          alt="Ilustración de programación"
          class="w-56 h-56 sm:w-80 sm:h-80 object-contain drop-shadow-xl animate-float"
        />
        <span
          class="absolute -inset-2 rounded-full border-4 border-cyan-400/30 animate-pulse"
        ></span>
      </div>
    </div>
  </div>

  <div id="bubble-bg" class="pointer-events-none fixed inset-0 -z-10"></div>

  <style>
    
    @keyframes fade-in-up {
      0% {
        opacity: 0;
        transform: translateY(40px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .animate-fade-in-up {
      animation: fade-in-up 1s cubic-bezier(0.4, 0, 0.2, 1) both;
    }
    .delay-150 {
      animation-delay: 0.15s;
    }
    .delay-300 {
      animation-delay: 0.3s;
    }
    .delay-500 {
      animation-delay: 0.5s;
    }
    .delay-700 {
      animation-delay: 0.7s;
    }

    @keyframes float {
      0%,
      100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-20px);
      }
    }
    .animate-float {
      animation: float 3s ease-in-out infinite;
    }

    #bubble-bg {
      background: transparent;
      z-index: 0;
    }
    #bubble-bg .bubble {
      position: absolute;
      border-radius: 9999px;
      background: linear-gradient(135deg, #38bdf8 60%, #4ecdc4 100%);
      opacity: 0.7;
      pointer-events: none;
      animation: bubble-move 12s linear infinite;
      filter: blur(1px);
      box-shadow:
        0 0 24px 0 #38bdf8,
        0 0 48px 0 #4ecdc4;
      border: 1.5px solid #2563eb33;
    }
    @keyframes bubble-move {
      0% {
        transform: translateY(100vh) scale(0.7);
      }
      100% {
        transform: translateY(-10vh) scale(1.2);
      }
    }
  </style>

  <script>
    function setupTextAnimation() {
      const textElement = document.getElementById("text-animate");
      if (!textElement) return;

      const text = "Desarrollador de Software | Backend & Más";
      let charIndex = 0;
      let isTyping = true;

      function typeText() {
        if (isTyping) {
          if (charIndex < text.length) {
            textElement.textContent += text.charAt(charIndex);
            charIndex++;
            setTimeout(typeText, 70);
          } else {
            isTyping = false;
            setTimeout(typeText, 1800);
          }
        } else {
          if (charIndex > 0) {
            textElement.textContent = text.substring(0, charIndex - 1);
            charIndex--;
            setTimeout(typeText, 30);
          } else {
            isTyping = true;
            setTimeout(typeText, 800);
          }
        }
      }
      setTimeout(typeText, 800);
    }

    function createBubbles() {
      const container = document.getElementById("bubble-bg");
      if (!container) return;
      const bubbleCount = window.innerWidth < 640 ? 12 : 24;
      for (let i = 0; i < bubbleCount; i++) {
        const bubble = document.createElement("div");
        bubble.className = "bubble";
        const size = Math.random() * 32 + 16;
        bubble.style.width = `${size}px`;
        bubble.style.height = `${size}px`;
        bubble.style.left = `${Math.random() * 100}%`;
        bubble.style.bottom = `-${Math.random() * 20 + 10}px`;
        bubble.style.animationDuration = `${8 + Math.random() * 8}s`;
        bubble.style.opacity = `${0.5 + Math.random() * 0.4}`;
        container.appendChild(bubble);
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      setupTextAnimation();
      createBubbles();
    });
  </script>
</Section>

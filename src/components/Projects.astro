---
import Section from "./ui/Section.astro";
import CardProject from "./ui/CardProject.astro";
import { projects } from "@/data/projects";
import TitleSection from "./ui/TitleSection.astro";
---

<Section id="projects">
  <section class="w-full px-4 relative">
    <!-- TÃ­tulo arriba y centrado -->
    <TitleSection title="Mis Proyectos" />

    <div class="max-w-7xl mx-auto">
      {/* All Projects */}
      <div>
        <div class="flex items-center gap-3 mb-8">
          <div
            class="w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full animate-pulse"
          >
          </div>
          <h2 class="text-2xl font-bold text-white">All Projects</h2>
          <div
            class="flex-1 h-px bg-gradient-to-r from-white/20 to-transparent"
          >
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {
            projects.map((project, index) => (
              <CardProject project={project} index={index} />
            ))
          }
        </div>
      </div>

      {/* Stats Section */}
      <div class="mt-16">
        <div class="flex items-center gap-3 mb-8">
          <div
            class="w-2 h-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full animate-pulse"
          >
          </div>
          <h2 class="text-2xl font-bold text-white">Total</h2>
          <div
            class="flex-1 h-px bg-gradient-to-r from-white/20 to-transparent"
          >
          </div>
        </div>

        <div
          class="grid grid-cols-1 md:grid-cols-3 gap-8 justify-center items-center"
        >
          <div class="flex flex-col items-center">
            <div class="bubble-gradient">
              <span
                class="text-4xl font-bold bg-gradient-to-b from-cyan-800 to-blue-800 bg-clip-text text-transparent drop-shadow-lg"
              >
                {projects.length}
              </span>
            </div>
            <span class="mt-2 text-xl text-cyan-200 font-medium tracking-wide">
              Total Projects
            </span>
          </div>
          <div class="flex flex-col items-center">
            <div class="bubble-gradient">
              <span
                class="text-4xl font-bold bg-gradient-to-b from-cyan-800 to-blue-800 bg-clip-text text-transparent drop-shadow-lg"
              >
                {projects.filter((p) => p.status === "completed").length}
              </span>
            </div>
            <span class="mt-2 text-xl text-cyan-200 font-medium tracking-wide">
              Completed
            </span>
          </div>
          <div class="flex flex-col items-center">
            <div class="bubble-gradient">
              <span
                class="text-4xl font-bold bg-gradient-to-b from-cyan-800 to-blue-800 bg-clip-text text-transparent drop-shadow-lg"
              >
                {projects.filter((p) => p.status === "in-progress").length}
              </span>
            </div>
            <span class="mt-2 text-xl text-cyan-200 font-medium tracking-wide">
              In Progress
            </span>
          </div>
        </div>
      </div>

      <style>
        .bubble-gradient {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 80px;
          height: 80px;
          border-radius: 9999px;
          background: radial-gradient(
            circle at 60% 40%,
            #06b6d4 0%,
            #1e40af 100%
          );
          box-shadow:
            0 4px 32px 0 rgba(6, 182, 212, 0.15),
            0 1.5px 8px 0 rgba(30, 64, 175, 0.12);
          margin-bottom: 0.5rem;
          transition: transform 0.2s;
        }
        .bubble-gradient:hover {
          transform: scale(1.06) translateY(-4px);
          box-shadow:
            0 8px 40px 0 rgba(6, 182, 212, 0.22),
            0 3px 16px 0 rgba(30, 64, 175, 0.18);
        }
      </style>
    </div>
  </section>

  <style>
    /* Custom animations */
    @keyframes float {
      0%,
      100% {
        transform: translateY(0px);
      }
      50% {
        transform: translateY(-10px);
      }
    }

    .animate-float {
      animation: float 3s ease-in-out infinite;
    }

    /* Staggered animation for tech tags */
    .flex-wrap > span {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s ease-out forwards;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Custom scrollbar for better UX */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #8b5cf6, #ec4899);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #7c3aed, #db2777);
    }
  </style>
</Section>
